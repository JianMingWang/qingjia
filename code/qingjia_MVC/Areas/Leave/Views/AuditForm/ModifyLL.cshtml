@model qingjia_MVC.Models.vw_LeaveList
@{
    ViewBag.Title = "编辑请假记录";
    var F = @Html.F();
}

@section body {
    @if (Model.LeaveType == "短期请假" || Model.LeaveType == "长期请假")
    {
        //短期请假 或 长期请假
        @(F.Form()
        .BodyPadding(10)
        .AutoScroll(true)
        .ShowHeader(false)
        .ShowBorder(false)
        .ID("SimpleForm1")
        .IsViewPort(true)
        .Toolbars(
            F.Toolbar()
                .Items(
                    F.Button()
                        .Icon(Icon.SystemClose)
                        .Text("关闭")
                        .ID("btnHide")
                        .Listener("click", "F.activeWindow.hide();"),
                    F.Button()
                        .OnClick(Url.Action("btnSaveClose_Click"))
                        .Icon(Icon.SystemSave)
                        .Text("保存")
                        .ID("btnSaveClose"),
                    F.Button()
                        .OnClick(Url.Action("btnSaveHideRefresh_Click"))
                        .Icon(Icon.SystemSaveNew)
                        .Text("保存并通过请假")
                        .ID("btnSaveHideRefresh"),
                    F.Button()
                        .OnClick(Url.Action("btnSaveCloseTab_Click"))
                        .Icon(Icon.SystemSaveClose)
                        .Text("关闭当前选项卡")
                        .ID("btnSaveCloseTab"),
                    F.ToolbarFill(),
                    F.ToolbarText()
                        .Text("提示一")
                        .ID("ToolbarText1"),
                    F.ToolbarSeparator(),
                    F.ToolbarText()
                        .Text("提示二")
                        .ID("ToolbarText2")
                )
        )
        .Rows(
            F.FormRow()
                .Items(
                    F.Label()
                        .Text(Model.ST_Name)
                        .Label("姓名")
                        .ID("ST_Name"),
                    F.Label()
                        .Text(Model.ST_Class)
                        .Label("班级")
                        .ID("ST_Class")
                ),
            F.FormRow()
                .Items(
                    F.Label()
                        .Text(Model.StudentID)
                        .Label("学号")
                        .ID("ST_Tel"),
                    F.Label()
                        .Text(Model.ST_Tel)
                        .Label("电话")
                        .ID("ST_Tel")
                ),
            F.FormRow()
                .Items(
                    F.Label()
                        .Text(Model.SubmitTime.ToString())
                        .Label("提交时间")
                        .ID("SubmitTime"),
                    F.Label()
                        .Text(Model.LeaveType)
                        .Label("请假类型")
                        .ID("LeaveType")
                ),
            F.FormRow()
                .Items(
                    F.DatePicker()
                        .Required(true)
                        .EnableEdit(false)
                        .Label("离校日期")
                        .EmptyText("请选择离校日期")
                        .Text(Model.TimeLeave.ToString("yyyy-MM-dd"))
                        .ID("leaveDate")
                        .ShowRedStar(true),
                    F.TimePicker()
                        .ID("leaveTime")
                        .Text(Model.TimeLeave.ToString("HH:mm"))
                        .ShowRedStar(true)
                        .EnableEdit(false)
                        .Increment(30)
                        .MinTimeText("00:00")
                        .MaxTimeText("23:30")
                        .Required(true)
                        .EmptyText("请选择离校时间")
                        
                ),
            F.FormRow()
                .Items(
                    F.DatePicker()
                        .Required(true)
                        .EnableEdit(false)
                        .Label("返校日期")
                        .EmptyText("请选择返校日期")
                        .Text(((DateTime)Model.TimeBack).ToString("yyyy-MM-dd"))
                        .ID("backDate")
                        .ShowRedStar(true),
                    F.TimePicker()
                        .ID("backTime")
                        .Text(((DateTime)Model.TimeBack).ToString("HH:mm"))
                        .ShowRedStar(true)
                        .EnableEdit(false)
                        .Increment(30)
                        .MinTimeText("00:00")
                        .MaxTimeText("23:30")
                        .Required(true)
                        .EmptyText("请选择返校时间")
                ),
            F.FormRow()
               .Items(
                    F.TextArea()
                        .ID("leaveReason")
                        .EmptyText("请输入请假原因。（30字以内）")
                        .Required(true)
                        .Label("请假原因")
                        .Text(Model.Reason)
                        .AutoGrowHeight(true)
                        .AutoGrowHeightMin(100)
                        .AutoGrowHeightMax(200)
                )
        )
        )
    }
    else
    { 
        
    }
    
}
